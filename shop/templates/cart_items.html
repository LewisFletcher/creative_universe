{% load shop_filters %}
{% for item, quantity in items %}
    <ul class="grid grid-cols-5 gap-10 px-2 py-2 mx-auto justify-items-center border border-kate-200 border-t-0">
        <li class="">
            <img src="{{item.image.url}}" alt="" class="w-20 h-20">
        </li>
        <li class="self-center place-self-start">
            <p class="text-lg">{{item.title}}</p>
        </li>
        <li class="self-center">
            <p class="text-lg">{{item.canvas_size}}</p>
        </li>
        
        <form action="" class="self-center">
            {% csrf_token %}
            <input type="number" 
                   class="text-lg bg-kate-200 w-20" 
                   value="{{ quantity }}" 
                   hx-post="{% url 'update_cart' item.get_model_name item.id %}"
                   hx-trigger="keyup delay:500ms" 
                   hx-target="#cart-items" 
                   name="quantity">
        </form>
        <li class="self-center">
            <p class="text-lg">${{item.product.get_price|mul:quantity|floatformat:2}}</p>
        </li>
    </ul>
{% endfor %}
    <div class="flex flex-row justify-between mx-auto mt-4">
        <p class="text-2xl md:text-3xl my-3 ">Total: ${{total|floatformat:2}}</p>
        <a href="{% url 'create_stripe_checkout_session' %}"><button class="bg-kate-300 text-white px-4 py-2 rounded-md my-2">
            Checkout
        </button></a>
    </div>
    <div class="flex flex-row justify-end mx-auto mt-1">
        <p class="text-sm font-thin text-kate-300">*To remove an item from your cart, enter 0 for the quantity.</p>
    </div>