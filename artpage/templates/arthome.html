{% extends 'index.html' %}
{% load static %}
{% block background_option %}
bg-contain xxl:bg-cover
{% endblock background_option %}
{% block content %}
<div class="w-full sm:w-9/12 lg:w-8/12 px-4 mx-auto mt-auto">
    <div class="flex flex-row justify-center mx-auto">
        <h1 class="text-2xl md:text-3xl my-3 "><a href="{% url 'all_art' %}">Recent Art</a></h1>
    </div>
    <div class="grid md:grid-cols-2 xl:grid-cols-3 gap-10 px-2 py-2 mx-auto mb-4 justify-items-center">
        {% if arts %}
        {% for art in arts %}
        <div class="bg-kate-200 overflow-hidden md:w-64 w-64 mx-2 rounded-lg" x-data="{ hover: false }">
            <a href="{% url 'art_detail' art.id %}">
            {% if art.second_image %}
                    <img :src="hover ? '{{ art.second_image|safe }}' : '{{ art.image.url }}'" class="h-64 md:h-64 w-full object-cover transition-transform duration-300" alt="" x-on:mouseenter="hover = true" x-on:mouseleave="hover = false">
            {% else %}
                <div class="h-64 md:h-64 w-full overflow-hidden">
                    <img src="{{ art.image.url }}" class="w-full h-full object-cover transition-transform duration-300" :class="{ 'scale-110': hover }" alt="" x-on:mouseenter="hover = true" x-on:mouseleave="hover = false">
                </div>
            {% endif %}
            </a>
            <a href="{% url 'art_detail' art.id %}" ><h2 class="font-bold text-center bold_underline px-1 pt-1 pb-1 hover:text-kate-300">{{ art.title }}</h2></a>
        </div>
        {% endfor %}
        {% else %}
        <p>No art to display at this time.</p>
        {% endif %}
    </div>
    <div class="flex flex-row justify-center px-8">
        <h1 class="text-2xl md:text-3xl my-3"><a href="{% url 'all_collections' %}">Explore Collections</a></h1></span>
    </div>
    <div class="grid lg:grid-cols-2 xl:grid-cols-3 gap-10 px-2 py-2 mx-auto mb-4 justify-items-center">
        {% if collections %}
        {% for collect in collections %}
        <div class="bg-kate-200 overflow-hidden md:w-64 w-64 mx-2 rounded-lg">
            <a href="{% url 'collection_detail' collect.id %}" ><img src="{{ collect.image.url }}" class="h-64 md:h-64 w-full object-cover"alt=""></a>
            <a href="{% url 'collection_detail' collect.id %}" ><h2 class="font-bold bold_underline px-1 pt-1">{{ collect.name }}</h2></a>
            <h2 class="font-medium text-sm px-1 pb-1">Pieces in collection: {{ collect.artpiece_set.count }}</h2>    
        </div>
        {% endfor %}
        {% else %}
        <p>No collections to display at this time.</p>
        {% endif %}
    </div>
</div>
    {% endblock  %}