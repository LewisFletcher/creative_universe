{% if collections %}
{% for collect in collections %}
<div class="bg-kate-200 overflow-hidden md:w-64 w-64 mx-2 rounded-lg" x-data="{ hover: false }" {% if forloop.last %} hx-get="{{ url }}?page={{ page_obj.number|add:1 }}" hx-trigger="revealed" hx-swap="afterend" hx-target="this"{% endif %}>
    <a href="{% url 'collection_detail' collect.id %}" >
        {% if collect.second_image %}
        <div class="relative">
            <img src="{{ collect.image.url }}" class="h-64 md:h-64 w-full object-cover" alt="">
            <img src="{{ collect.second_image|safe }}" class="h-64 md:h-64 w-full object-cover absolute top-0 left-0 hidden" alt="" x-on:mouseenter="hover = true" x-on:mouseleave="hover = false" :class="{ 'hidden': !hover }">
        </div>
        {% else %}
        <div class="h-64 md:h-64 w-full overflow-hidden">
            <img src="{{ collect.image.url }}" class="w-full h-full object-cover transition-transform duration-300" :class="{ 'scale-110': hover }" alt="" x-on:mouseenter="hover = true" x-on:mouseleave="hover = false">
        </div>
        {% endif %}
    </a>
    <a href="{% url 'collection_detail' collect.id %}" ><h2 class="font-bold bold_underline pl-1 hover:text-kate-300">{{ collect.name }}</h2></a>
    <h2 class="font-medium text-sm pl-1">Pieces in collection: {{ collect.artpiece_set.count }}</h2>     
</div>
{% endfor %}
{% else %}
<p>No collections to display at this time.</p>
{% endif %}